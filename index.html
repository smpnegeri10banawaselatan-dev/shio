<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>12 Shio Main Interaktif</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      padding: 20px;
    }
    h2 {
      text-align: center;
      margin-top: 30px;
      color: #333;
    }
    .shio-block {
      background: #fff;
      padding: 15px;
      margin: 20px auto;
      border-radius: 12px;
      box-shadow: 0 3px 6px rgba(0,0,0,0.15);
      width: 90%;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 10px 0;
    }
    th, td {
      border: 1px solid #ccc;
      text-align: center;
      padding: 8px;
      cursor: pointer;
    }
    th {
      background: #ffcc00;
    }
    .utama { background: #4caf50 !important; color: white; font-weight: bold; }
    .cadangan { background: #f57c00 !important; color: white; font-style: italic; }
    .highlight td { background: #d1ecf1 !important; }
    .keterangan {
      margin-top: 8px;
      font-weight: bold;
      color: #333;
    }
  </style>
</head>
<body>

<script>
const shioData = [
  {id:1, main:[['1 4 10','7'],['2 8 11','5'],['3 9 12','6']], peluang:['2 4 6 8','1','5 7 9 11']},
  {id:2, main:[['2 5 11','8'],['3 9 12','6'],['1 4 10','7']], peluang:['1 3 5 7','2','4 6 8 10']},
  {id:3, main:[['3 6 12','9'],['1 4 10','7'],['2 5 11','8']], peluang:['2 4 6 8','3','1 5 7 9']},
  {id:4, main:[['4 7 1','10'],['5 8 2','11'],['6 9 3','12']], peluang:['1 3 5 7','4','2 6 8 10']},
  {id:5, main:[['5 8 2','11'],['6 9 3','12'],['4 7 1','10']], peluang:['2 4 6 8','5','1 3 7 9']},
  {id:6, main:[['6 9 3','12'],['4 7 1','10'],['5 8 2','11']], peluang:['1 3 5 7','6','2 4 8 10']},
  {id:7, main:[['7 10 4','1'],['8 11 5','2'],['9 12 6','3']], peluang:['2 4 6 8','7','1 3 5 9']},
  {id:8, main:[['8 11 5','2'],['9 12 6','3'],['7 10 4','1']], peluang:['1 3 5 7','8','2 4 6 10']},
  {id:9, main:[['9 12 6','3'],['7 10 4','1'],['8 11 5','2']], peluang:['2 4 6 8','9','1 3 5 7']},
  {id:10, main:[['10 1 7','4'],['11 2 8','5'],['12 3 9','6']], peluang:['1 3 5 7','10','2 4 6 8']},
  {id:11, main:[['11 2 8','5'],['12 3 9','6'],['10 1 7','4']], peluang:['2 4 6 8','11','1 3 5 7']},
  {id:12, main:[['12 3 9','6'],['10 1 7','4'],['11 2 8','5']], peluang:['1 3 5 7','12','2 4 6 8']},
];

shioData.forEach(s => {
  document.write(`
    <div class="shio-block" data-shio="${s.id}">
      <h2>Shio ${s.id}</h2>
      <table class="main-table">
        <thead>
          <tr><th>Kelompok</th><th>Shio Main</th><th>Shio Mati</th></tr>
        </thead>
        <tbody>
          ${s.main.map((row,i)=>`<tr><td>${['I','II','III'][i]}</td><td>${row[0]}</td><td>${row[1]}</td></tr>`).join('')}
        </tbody>
      </table>
      <table class="peluang-table">
        <thead>
          <tr><th>Genap</th><th>Shio Keluar</th><th>Ganjil</th></tr>
        </thead>
        <tbody>
          <tr>
            <td>${s.peluang[0]}</td>
            <td>${s.peluang[1]}</td>
            <td>${s.peluang[2]}</td>
          </tr>
        </tbody>
      </table>
      <div class="keterangan">Klik baris untuk melihat Shio Kuat & Lemah</div>
    </div>
  `);
});
</script>

<script>
document.querySelectorAll(".shio-block").forEach(block => {
  const mainTable = block.querySelector(".main-table");
  const peluangTable = block.querySelector(".peluang-table");
  const ket = block.querySelector(".keterangan");

  function updateHighlight() {
    // Reset semua highlight
    mainTable.querySelectorAll("tr").forEach(r => r.classList.remove("highlight"));
    mainTable.querySelectorAll("td").forEach(td => td.classList.remove("utama","cadangan"));
    peluangTable.querySelectorAll("tr").forEach(r => r.classList.remove("highlight"));
    peluangTable.querySelectorAll("td").forEach(td => td.classList.remove("utama"));
  }

  function cekCocok() {
    // Ambil semua angka dari Shio Main & Shio Mati
    const mainAngka = [];
    mainTable.querySelectorAll("tbody tr").forEach(row => {
      const tds = row.querySelectorAll("td");
      mainAngka.push(...tds[1].textContent.split(' '));
      mainAngka.push(...tds[2].textContent.split(' '));
    });

    // Ambil semua angka dari tabel Peluang
    const peluangAngka = [];
    peluangTable.querySelectorAll("tbody tr").forEach(row => {
      row.querySelectorAll("td").forEach(td => {
        peluangAngka.push(...td.textContent.split(' '));
      });
    });

    // Cari angka yang sama
    const sama = mainAngka.filter(x => peluangAngka.includes(x));

    // Update keterangan
    ket.textContent = sama.length ? "Shio Cocok: " + sama.join(', ') : "Tidak ada Shio yang sama";
  }

  // Klik tabel Main
  mainTable.querySelectorAll("tbody tr").forEach(row => {
    row.addEventListener("click", () => {
      updateHighlight();
      row.classList.add("highlight");
      const tds = row.querySelectorAll("td");
      tds[1].classList.add("utama");
      tds[2].classList.add("cadangan");
      cekCocok();
    });
  });

  // Klik tabel Peluang
  peluangTable.querySelectorAll("tbody tr").forEach(row => {
    row.addEventListener("click", () => {
      updateHighlight();
      row.classList.add("highlight");
      const tds = row.querySelectorAll("td");
      tds[0].classList.add("utama");
      tds[2].classList.add("utama");
      cekCocok();
    });
  });

  // Cek saat load
  cekCocok();
});
</script>

</body>
</html>
