<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>12 Shio Main Interaktif</title>
<style>
  body { font-family: Arial, sans-serif; background: #f5f5f5; padding: 20px; }
  h2 { text-align: center; margin-top: 30px; color: #333; }
  .shio-block { background: #fff; padding: 15px; margin: 20px auto; border-radius: 12px;
    box-shadow: 0 3px 6px rgba(0,0,0,0.15); width: 90%; }
  table { width: 100%; border-collapse: collapse; margin: 10px 0; }
  th, td { border: 1px solid #ccc; text-align: center; padding: 8px; cursor: pointer; }
  th { background: #ffcc00; }
  .utama { background: #4caf50 !important; color: white; font-weight: bold; }
  .highlight td { background: #d1ecf1 !important; }
  .keterangan { margin-top: 8px; font-weight: bold; color: #333; }
</style>
</head>
<body>

<script>
const shioData = [
  {id:1, main:[['1 4 10'],['2 8 11'],['3 9 12']], peluang:['2 4 6 8','1','5 7 9 11']},
  {id:2, main:[['2 5 11'],['3 9 12'],['1 4 10']], peluang:['1 3 5 7','2','4 6 8 10']},
  {id:3, main:[['3 6 12'],['1 4 10'],['2 5 11']], peluang:['2 4 6 8','3','1 5 7 9']},
  {id:4, main:[['4 7 1'],['5 8 2'],['6 9 3']], peluang:['1 3 5 7','4','2 6 8 10']},
  {id:5, main:[['5 8 2'],['6 9 3'],['4 7 1']], peluang:['2 4 6 8','5','1 3 7 9']},
  {id:6, main:[['6 9 3'],['4 7 1'],['5 8 2']], peluang:['1 3 5 7','6','2 4 8 10']},
  {id:7, main:[['7 10 4'],['8 11 5'],['9 12 6']], peluang:['2 4 6 8','7','1 3 5 9']},
  {id:8, main:[['8 11 5'],['9 12 6'],['7 10 4']], peluang:['1 3 5 7','8','2 4 6 10']},
  {id:9, main:[['9 12 6'],['7 10 4'],['8 11 5']], peluang:['2 4 6 8','9','1 3 5 7']},
  {id:10, main:[['10 1 7'],['11 2 8'],['12 3 9']], peluang:['1 3 5 7','10','2 4 6 8']},
  {id:11, main:[['11 2 8'],['12 3 9'],['10 1 7']], peluang:['2 4 6 8','11','1 3 5 7']},
  {id:12, main:[['12 3 9'],['10 1 7'],['11 2 8']], peluang:['1 3 5 7','12','2 4 6 8']},
];

shioData.forEach(s => {
  document.write(`
    <div class="shio-block" data-shio="${s.id}">
      <h2>Shio ${s.id}</h2>
      <table class="main-table">
        <thead><tr><th>Kelompok</th><th>Shio Main</th></tr></thead>
        <tbody>
          ${s.main.map((row,i)=>`<tr><td>${['I','II','III'][i]}</td><td>${row[0]}</td></tr>`).join('')}
        </tbody>
      </table>
      <table class="peluang-table">
        <thead><tr><th>Genap</th><th>Shio Keluar</th><th>Ganjil</th></tr></thead>
        <tbody>
          <tr>
            <td>${s.peluang[0]}</td>
            <td>${s.peluang[1]}</td>
            <td>${s.peluang[2]}</td>
          </tr>
        </tbody>
      </table>
      <div class="keterangan">Klik baris untuk melihat Shio Cocok</div>
    </div>
  `);
});
</script>

<script>
document.querySelectorAll(".shio-block").forEach(block => {
  const mainTable = block.querySelector(".main-table");
  const peluangTable = block.querySelector(".peluang-table");
  const ket = block.querySelector(".keterangan");

  function updateHighlight() {
    mainTable.querySelectorAll("td").forEach(td => td.classList.remove("utama"));
    peluangTable.querySelectorAll("td").forEach(td => td.classList.remove("utama"));
  }

  function cekCocok() {
    updateHighlight();

    const mainAngka = [];
    mainTable.querySelectorAll("tbody tr").forEach(row => {
      mainAngka.push(...row.cells[1].textContent.split(' '));
    });

    const tdPeluang = [];
    const peluangAngka = [];
    peluangTable.querySelectorAll("tbody tr").forEach(row => {
      row.querySelectorAll("td").forEach(td => {
        const nums = td.textContent.split(' ');
        nums.forEach(n => tdPeluang.push({num:n, td}));
        peluangAngka.push(...nums);
      });
    });

    const sama = mainAngka.filter(x => peluangAngka.includes(x));

    // Highlight angka sama di Main
    mainTable.querySelectorAll("tbody tr").forEach(row => {
      row.cells[1].textContent.split(' ').forEach(num => {
        if (sama.includes(num)) row.cells[1].classList.add("utama");
      });
    });

    // Highlight angka sama di Peluang
    tdPeluang.forEach(obj => {
      if (sama.includes(obj.num)) obj.td.classList.add("utama");
    });

    ket.textContent = sama.length ? "Shio Cocok: " + sama.join(', ') : "Tidak ada Shio yang sama";
  }

  // Event klik
  mainTable.querySelectorAll("tbody tr").forEach(row => row.addEventListener("click", cekCocok));
  peluangTable.querySelectorAll("tbody tr").forEach(row => row.addEventListener("click", cekCocok));

  cekCocok(); // cek saat load
});
</script>

</body>
</html>
